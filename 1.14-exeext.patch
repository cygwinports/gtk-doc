--- origsrc/gtk-doc-1.14/gtkdoc-scangobj.in	2010-01-29 04:21:37.000000000 -0600
+++ src/gtk-doc-1.14/gtkdoc-scangobj.in	2010-05-12 06:02:09.540514900 -0500
@@ -104,6 +104,7 @@ my $old_prerequisites_filename = "$OUTPU
 my $new_prerequisites_filename = "$OUTPUT_DIR/$MODULE.prerequisites.new";
 my $old_args_filename = "$OUTPUT_DIR/$MODULE.args";
 my $new_args_filename = "$OUTPUT_DIR/$MODULE.args.new";
+my $exeext = ($^O =~ /MSWin32|cygwin/) ? ".exe" : "";
 
 # write a C program to scan the types
 
@@ -1601,15 +1602,15 @@ $command = "$CC $CFLAGS -c -o $o_file $M
 system("($command)") == 0 or die "Compilation of scanner failed: $!\n";
 
 print "gtk-doc: Linking scanner\n";
-$command = "$LD -o $MODULE-scan $o_file $LDFLAGS";
+$command = "$LD -o $MODULE-scan$exeext $o_file $LDFLAGS";
 system("($command)") == 0 or die "Linking of scanner failed: $!\n";
 
 print "gtk-doc: Running scanner $MODULE-scan\n";
-system("($RUN ./$MODULE-scan)") == 0 or die "Scan failed: $!\n";
+system("($RUN ./$MODULE-scan$exeext)") == 0 or die "Scan failed: $!\n";
 
 
 if (!defined($ENV{"GTK_DOC_KEEP_INTERMEDIATE"})) {
-  unlink "./$MODULE-scan.c", "./$MODULE-scan.o", "./$MODULE-scan.lo", "./$MODULE-scan";
+  unlink "./$MODULE-scan.c", "./$MODULE-scan.o", "./$MODULE-scan.lo", "./$MODULE-scan$exeext";
 }
 
 &UpdateFileIfChanged ($old_signals_filename, $new_signals_filename, 0);
--- origsrc/gtk-doc-1.14/gtkdoc-scanobj.in	2010-01-29 04:21:37.000000000 -0600
+++ src/gtk-doc-1.14/gtkdoc-scanobj.in	2010-05-12 06:02:55.437140000 -0500
@@ -86,6 +86,7 @@ my $old_hierarchy_filename = "$OUTPUT_DI
 my $new_hierarchy_filename = "$OUTPUT_DIR/$MODULE.hierarchy.new";
 my $old_args_filename = "$OUTPUT_DIR/$MODULE.args";
 my $new_args_filename = "$OUTPUT_DIR/$MODULE.args.new";
+my $exeext = ($^O =~ /MSWin32|cygwin/) ? ".exe" : "";
 
 # write a C program to scan the types
 
@@ -841,14 +842,14 @@ $command = "$CC $CFLAGS -c -o $o_file $M
 system("($command)") == 0 or die "Compilation of scanner failed: $!\n";
 
 print "gtk-doc: Linking scanner\n";
-$command = "$LD -o $MODULE-scan $o_file $LDFLAGS";
+$command = "$LD -o $MODULE-scan$exeext $o_file $LDFLAGS";
 system("($command)") == 0 or die "Linking of scanner failed: $!\n";
 
 print "gtk-doc: Running scanner $MODULE-scan\n";
-system("($RUN ./$MODULE-scan)") == 0 or die "Scan failed: $!\n";
+system("($RUN ./$MODULE-scan$exeext)") == 0 or die "Scan failed: $!\n";
 
 if (!defined($ENV{"GTK_DOC_KEEP_INTERMEDIATE"})) {
-  unlink "./$MODULE-scan.c", "./$MODULE-scan.o", "./$MODULE-scan.lo", "./$MODULE-scan";
+  unlink "./$MODULE-scan.c", "./$MODULE-scan.o", "./$MODULE-scan.lo", "./$MODULE-scan$exeext";
 }
 
 &UpdateFileIfChanged ($old_signals_filename, $new_signals_filename, 0);
